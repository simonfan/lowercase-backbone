//     lowercase-backbone
//     (c) simonfan
//     lowercase-backbone is licensed under the MIT terms.

define("lowercase-backbone",["require","exports","module","subject","backbone","lodash"],function(i,e,t){var o=i("subject"),n=i("backbone"),s=i("lodash"),l=t.exports={};l.model=o(n.Model.prototype),l.model.proto({initialize:function(){this.initializeBackboneModel.apply(this,arguments)},initializeBackboneModel:function(i,e){var t=i||{};e||(e={}),this.cid=s.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(t=this.parse(t,e)||{}),t=s.defaults({},t,s.result(this,"defaults")),this.set(t,e),this.changed={}}}),l.collection=o(n.Collection.prototype),l.collection.proto({initialize:function(){this.initializeBackboneCollection.apply(this,arguments)},initializeBackboneCollection:function(i,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),i&&this.reset(i,s.extend({silent:!0},e))}});var a=["model","collection","el","id","attributes","className","tagName","events"];l.view=o(n.View.prototype),l.view.proto({initialize:function(i){this.initializeBackboneView(i)},initializeBackboneView:function(i){this.cid=s.uniqueId("view"),i||(i={}),s.extend(this,s.pick(i,a)),this._ensureElement(),this.delegateEvents()}}),l.router=o(n.Router.prototype),l.router.proto({initialize:function(){this.initializeBackboneRouter.apply(this,arguments)},initializeBackboneRouter:function(i){i||(i={}),i.routes&&(this.routes=i.routes),this._bindRoutes()}}),l.history=n.history});