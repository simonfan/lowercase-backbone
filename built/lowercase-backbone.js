//     lowercase-backbone
//     (c) simonfan
//     lowercase-backbone is licensed under the MIT terms.

define("lowercase-backbone",["require","exports","module","subject","backbone","lodash"],function(t,e,o){var i=t("subject"),s=t("backbone"),r=t("lodash"),n=o.exports={};n.model=i(s.Model.prototype),n.model.proto("initialize",function(t,e){var o=t||{};e||(e={}),this.cid=r.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(o=this.parse(o,e)||{}),o=r.defaults({},o,r.result(this,"defaults")),this.set(o,e),this.changed={}}),n.collection=i(s.Collection.prototype),n.collection.proto("initialize",function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),t&&this.reset(t,r.extend({silent:!0},e))}),n.view=i(s.View.prototype),n.view.proto("initialize",function(t){this.cid=r.uniqueId("view"),t||(t={}),r.extend(this,r.pick(t,viewOptions)),this._ensureElement(),this.delegateEvents()}),n.router=i(s.Router.prototype),n.router.proto(function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes()}),n.history=s.history});