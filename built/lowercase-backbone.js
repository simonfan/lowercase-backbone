//     lowercase-backbone
//     (c) simonfan
//     lowercase-backbone is licensed under the MIT terms.

define("lowercase-backbone",["require","exports","module","subject","backbone","lodash"],function(i,t,e){var o=i("subject"),n=i("backbone"),s=i("lodash"),a=e.exports={};a.model=o(n.Model.prototype),a.model.proto({initialize:function(){this.initializeBackboneModel.apply(this,arguments)},initializeBackboneModel:function(i,t){var e=i||{};t||(t={}),this.cid=s.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(e=this.parse(e,t)||{}),e=s.defaults({},e,s.result(this,"defaults")),this.set(e,t),this.changed={}}}),a.collection=o(n.Collection.prototype),a.collection.proto({initialize:function(){this.initializeBackboneCollection.apply(this,arguments)},initializeBackboneCollection:function(i,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),i&&this.reset(i,s.extend({silent:!0},t))}});var l=["model","collection","el","id","attributes","className","tagName","events"];a.view=o(n.View.prototype),a.view.proto({initialize:function(){this.initializeBackboneView.apply(this,arguments)},initializeBackboneView:function(i){this.cid=s.uniqueId("view"),i||(i={}),s.extend(this,s.pick(i,l)),this._ensureElement(),this.delegateEvents()}}),a.router=o(n.Router.prototype),a.router.proto({initialize:function(){this.initializeBackboneRouter.apply(this,arguments)},initializeBackboneRouter:function(i){i||(i={}),i.routes&&(this.routes=i.routes),this._bindRoutes()}}),a.history=n.history});