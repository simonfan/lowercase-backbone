//     lowercase-backbone
//     (c) simonfan
//     lowercase-backbone is licensed under the MIT terms.

define("lowercase-backbone",["require","exports","module","subject","backbone","lodash"],function(e,i,t){var o=e("subject"),n=e("backbone"),s=e("lodash"),a=t.exports={};a.model=o(n.Model.prototype),a.model.proto({initialize:function(){this.initializeBackboneModel.apply(this,arguments)},initializeBackboneModel:function(e,i){var t=e||{};i||(i={}),this.cid=s.uniqueId("c"),this.attributes={},i.collection&&(this.collection=i.collection),i.parse&&(t=this.parse(t,i)||{}),t=s.defaults({},t,s.result(this,"defaults")),this.set(t,i),this.changed={}}}),a.collection=o(n.Collection.prototype),a.collection.proto({initialize:function(){this.initializeBackboneCollection.apply(this,arguments)},initializeBackboneCollection:function(e,i){i||(i={}),i.model&&(this.model=i.model),void 0!==i.comparator&&(this.comparator=i.comparator),this._reset(),e&&this.reset(e,s.extend({silent:!0},i))}});var l=["model","collection","el","id","attributes","className","tagName","events"];a.view=o(n.View.prototype);var l=["model","collection","el","id","attributes","className","tagName","events"];a.view.proto({initialize:function(){this.initializeBackboneView.apply(this,arguments)},initializeBackboneView:function(e){this.cid=s.uniqueId("view"),e||(e={}),s.extend(this,s.pick(e,l)),this._ensureElement(),this.delegateEvents()}}),a.router=o(n.Router.prototype),a.router.proto({initialize:function(){this.initializeBackboneRouter.apply(this,arguments)},initializeBackboneRouter:function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes()}}),a.history=n.history});